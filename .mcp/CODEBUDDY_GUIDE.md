# CodeBuddy MCP ä½¿ç”¨æŒ‡å— ğŸ¤–

æœ¬æŒ‡å—ä¸“ä¸º **CodeBuddy** ç”¨æˆ·ç¼–å†™ï¼Œå¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹ MCP åŠŸèƒ½ã€‚

## âœ¨ å¥½æ¶ˆæ¯ï¼

CodeBuddy ä¼š**è‡ªåŠ¨è¯†åˆ«**é¡¹ç›®ä¸­çš„ MCP æœåŠ¡å™¨ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼ğŸ‰

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥ï¼‰

### ç¬¬ 1 æ­¥ï¼šéªŒè¯å®‰è£…

ç¡®ä¿ä¾èµ–å·²å®‰è£…ï¼š

```bash
cd /Users/wangyuxing/Desktop/pokedex/pokedex_app
fvm flutter pub get
```

### ç¬¬ 2 æ­¥ï¼šè¿è¡Œæµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯ MCP åŠŸèƒ½ï¼š

```bash
fvm dart run scripts/test_mcp.dart
```

ä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```
=== Flutter Pokedex MCP æµ‹è¯• ===

âœ“ lib/mcp/mcp_server.dart
âœ“ lib/mcp/mcp_tools.dart
...
âœ“ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·:
  - analyze_project
  - analyze_widget
  - suggest_optimizations
  ...

=== æµ‹è¯•å®Œæˆ ===
```

### ç¬¬ 3 æ­¥ï¼šåœ¨ CodeBuddy ä¸­ä½¿ç”¨

ç›´æ¥åœ¨ CodeBuddy å¯¹è¯æ¡†ä¸­è¾“å…¥å‘½ä»¤å³å¯ï¼

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1ï¸âƒ£ åˆ—å‡ºæ‰€æœ‰å·¥å…·

```
è¯·åˆ—å‡ºå½“å‰é¡¹ç›®çš„ MCP å·¥å…·
```

æˆ–è€…ï¼š

```
è¿™ä¸ªé¡¹ç›®æœ‰å“ªäº› MCP åŠŸèƒ½ï¼Ÿ
```

### 2ï¸âƒ£ åˆ†ææ•´ä¸ªé¡¹ç›®

```
ä½¿ç”¨ analyze_project å·¥å…·åˆ†æé¡¹ç›®ç»“æ„
```

æˆ–è€…ï¼š

```
å¸®æˆ‘åˆ†æä¸€ä¸‹è¿™ä¸ªé¡¹ç›®çš„ä»£ç ç»“æ„å’Œå¤æ‚åº¦
```

### 3ï¸âƒ£ åˆ†æç‰¹å®š Widget

```
ä½¿ç”¨ analyze_widget åˆ†æ screens/detail_screen.dart
```

æˆ–è€…ï¼š

```
åˆ†æ DetailScreen çš„æ€§èƒ½ï¼Œæœ‰ä»€ä¹ˆä¼˜åŒ–å»ºè®®å—ï¼Ÿ
```

### 4ï¸âƒ£ è·å–ä¼˜åŒ–å»ºè®®

```
ä½¿ç”¨ suggest_optimizations ä¼˜åŒ– lib/services/poke_service.dartï¼Œé‡ç‚¹å…³æ³¨æ€§èƒ½
```

æˆ–è€…ï¼š

```
ç»™æˆ‘ä¸€äº›ä¼˜åŒ– PokeService çš„å»ºè®®
```

### 5ï¸âƒ£ æŸ¥æ‰¾æœªä½¿ç”¨çš„ä»£ç 

```
ä½¿ç”¨ find_unused_code å·¥å…·ï¼Œæ£€æŸ¥èŒƒå›´ä¸º all
```

æˆ–è€…ï¼š

```
å¸®æˆ‘æ‰¾å‡ºé¡¹ç›®ä¸­æ²¡ç”¨åˆ°çš„ä»£ç 
```

### 6ï¸âƒ£ æ£€æŸ¥æœ€ä½³å®è·µ

```
ä½¿ç”¨ check_best_practices æ£€æŸ¥ lib/screens/home_screen.dart
```

æˆ–è€…ï¼š

```
HomeScreen çš„ä»£ç ç¬¦åˆ Flutter æœ€ä½³å®è·µå—ï¼Ÿ
```

### 7ï¸âƒ£ ç”Ÿæˆæ–‡æ¡£

```
ä½¿ç”¨ generate_documentation ä¸º lib/models/pokemon.dart ç”Ÿæˆæ–‡æ¡£
```

æˆ–è€…ï¼š

```
å¸® Pokemon ç±»ç”Ÿæˆæ–‡æ¡£æ³¨é‡Š
```

## ğŸ¯ 6 ä¸ªæ ¸å¿ƒå·¥å…·

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |
|---------|---------|---------|
| **analyze_project** | åˆ†æé¡¹ç›®ç»“æ„å’Œå¤æ‚åº¦ | äº†è§£é¡¹ç›®æ•´ä½“çŠ¶å†µ |
| **analyze_widget** | åˆ†æ Widget æ€§èƒ½ | ä¼˜åŒ–ç‰¹å®šé¡µé¢ |
| **suggest_optimizations** | æä¾›ä»£ç ä¼˜åŒ–å»ºè®® | æå‡ä»£ç è´¨é‡ |
| **find_unused_code** | æŸ¥æ‰¾æœªä½¿ç”¨ä»£ç  | æ¸…ç†å†—ä½™ä»£ç  |
| **check_best_practices** | æ£€æŸ¥æœ€ä½³å®è·µ | ä»£ç å®¡æŸ¥ |
| **generate_documentation** | ç”Ÿæˆæ–‡æ¡£æ³¨é‡Š | è¡¥å……æ–‡æ¡£ |

## ğŸ“š èµ„æºè®¿é—®

ä½ ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®é¡¹ç›®èµ„æºï¼š

```
æŸ¥çœ‹ project://structure èµ„æº
```

```
è¯»å– project://widgets èµ„æº
```

å¯ç”¨èµ„æºï¼š
- `file://pubspec.yaml` - é¡¹ç›®é…ç½®
- `file://lib/` - æºä»£ç 
- `project://structure` - é¡¹ç›®ç»“æ„
- `project://widgets` - Widget åˆ—è¡¨
- `project://models` - æ•°æ®æ¨¡å‹

## ğŸ¨ AI æç¤ºè¯

ä½¿ç”¨é¢„å®šä¹‰çš„æç¤ºè¯æ¨¡æ¿ï¼š

```
ä½¿ç”¨ optimize_widget æç¤ºè¯ï¼Œwidget_path è®¾ä¸º 'screens/detail_screen.dart'
```

å¯ç”¨æç¤ºè¯ï¼š
- **optimize_widget** - Widget ä¼˜åŒ–
- **refactor_code** - ä»£ç é‡æ„
- **implement_feature** - åŠŸèƒ½å®ç°
- **fix_issue** - é—®é¢˜ä¿®å¤
- **improve_architecture** - æ¶æ„æ”¹è¿›

## ğŸ’¼ å®é™…å·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘

1. **å¼€å§‹ç¼–ç å‰**ï¼š
   ```
   ä½¿ç”¨ analyze_project å·¥å…·äº†è§£é¡¹ç›®çŠ¶æ€
   ```

2. **ç¼–å†™æ–° Widget**ï¼š
   ```
   ä½¿ç”¨ implement_feature æç¤ºè¯ï¼Œfeature è®¾ä¸º 'æ–°åŠŸèƒ½æè¿°'
   ```

3. **ä»£ç å®¡æŸ¥å‰**ï¼š
   ```
   ä½¿ç”¨ check_best_practices æ£€æŸ¥ lib/screens/new_screen.dart
   ```

### æ€§èƒ½ä¼˜åŒ–

1. **è¯†åˆ«é—®é¢˜**ï¼š
   ```
   ä½¿ç”¨ analyze_widget åˆ†æ screens/slow_screen.dart
   ```

2. **è·å–å»ºè®®**ï¼š
   ```
   ä½¿ç”¨ suggest_optimizations ä¼˜åŒ– lib/screens/slow_screen.dartï¼Œfocus_area è®¾ä¸º 'performance'
   ```

3. **éªŒè¯æ”¹è¿›**ï¼š
   - ä¿®æ”¹ä»£ç åå†æ¬¡è¿è¡Œ analyze_widget

### ä»£ç é‡æ„

1. **è¯„ä¼°å½“å‰çŠ¶æ€**ï¼š
   ```
   ä½¿ç”¨ analyze_project å·¥å…·ï¼Œinclude_dependencies è®¾ä¸º true
   ```

2. **è·å–é‡æ„å»ºè®®**ï¼š
   ```
   ä½¿ç”¨ refactor_code æç¤ºè¯ï¼Œfile_path è®¾ä¸º 'services/old_service.dart'
   ```

3. **æ¸…ç†å†—ä½™ä»£ç **ï¼š
   ```
   ä½¿ç”¨ find_unused_code å·¥å…·ï¼Œscope è®¾ä¸º 'all'
   ```

## âš™ï¸ CodeBuddy ç‰¹æ€§

### è‡ªåŠ¨è¯†åˆ«

CodeBuddy ä¼šè‡ªåŠ¨æ‰«æï¼š
- âœ… `.mcp/` æ–‡ä»¶å¤¹
- âœ… `mcp_server/` é…ç½®æ–‡ä»¶
- âœ… MCP å¯åŠ¨è„šæœ¬

### æ— ç¼é›†æˆ

- ğŸš€ **æ— éœ€é‡å¯**ï¼šMCP åŠŸèƒ½å¼€ç®±å³ç”¨
- ğŸ’¬ **è‡ªç„¶å¯¹è¯**ï¼šä½¿ç”¨è‡ªç„¶è¯­è¨€ä¹Ÿèƒ½è°ƒç”¨å·¥å…·
- ğŸ“Š **å®æ—¶åé¦ˆ**ï¼šç«‹å³çœ‹åˆ°åˆ†æç»“æœ

### æ™ºèƒ½æç¤º

CodeBuddy ä¼šï¼š
- ğŸ¯ ç†è§£ä½ çš„æ„å›¾
- ğŸ’¡ æ¨èåˆé€‚çš„å·¥å…·
- ğŸ” è‡ªåŠ¨å¡«å……å‚æ•°

## ğŸ› æ•…éšœæ’é™¤

### MCP å·¥å…·ä¸å¯ç”¨

**é—®é¢˜**ï¼šCodeBuddy æ²¡æœ‰è¯†åˆ«åˆ° MCP å·¥å…·

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ `.mcp` æ–‡ä»¶å¤¹å­˜åœ¨
2. è¿è¡Œæµ‹è¯•è„šæœ¬ï¼š
   ```bash
   fvm dart run scripts/test_mcp.dart
   ```
3. æ£€æŸ¥ CodeBuddy çš„ MCP æ—¥å¿—
4. é‡æ–°æ‰“å¼€é¡¹ç›®

### å·¥å…·è°ƒç”¨å¤±è´¥

**é—®é¢˜**ï¼šå·¥å…·è¿”å›é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æ–‡ä»¶è·¯å¾„ï¼ˆä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹äº `lib/`ï¼‰
2. ç¡®è®¤æ–‡ä»¶å­˜åœ¨ï¼š
   ```bash
   ls -la lib/screens/detail_screen.dart
   ```
3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
4. å°è¯•ç®€åŒ–å‚æ•°

### ä¾èµ–é—®é¢˜

**é—®é¢˜**ï¼šç¼ºå°‘ä¾èµ–

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
fvm flutter pub get
fvm flutter pub outdated
```

## ğŸ“– å®Œæ•´æ–‡æ¡£

- ğŸ“˜ **å¿«é€Ÿå¼€å§‹**ï¼š`.mcp/QUICKSTART.md`
- ğŸ“— **å®Œæ•´åŠŸèƒ½**ï¼š`.mcp/README.md`
- ğŸ“• **ä½¿ç”¨ç¤ºä¾‹**ï¼š`.mcp/examples.md`
- ğŸ“™ **é›†æˆè¯´æ˜**ï¼š`MCP_INTEGRATION.md`

## ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **å®šæœŸåˆ†æ**ï¼šæ¯å‘¨è¿è¡Œä¸€æ¬¡ `analyze_project`
2. **æ–°ä»£ç å®¡æŸ¥**ï¼šæäº¤å‰ç”¨ `check_best_practices` æ£€æŸ¥
3. **æ€§èƒ½ç›‘æ§**ï¼šé‡è¦é¡µé¢ç”¨ `analyze_widget` åˆ†æ
4. **æ–‡æ¡£å®Œå–„**ï¼šä½¿ç”¨ `generate_documentation` è¡¥å……æ³¨é‡Š

### âŒ é¿å…

1. ä¸è¦é¢‘ç¹åˆ†ææ•´ä¸ªé¡¹ç›®ï¼ˆå¯èƒ½è¾ƒæ…¢ï¼‰
2. ä¸è¦å¿½ç•¥ä¼˜åŒ–å»ºè®®
3. ä¸è¦åœ¨æ²¡æœ‰æµ‹è¯•çš„æƒ…å†µä¸‹å¤§è§„æ¨¡é‡æ„

## ğŸ”¥ é«˜çº§æŠ€å·§

### ç»„åˆä½¿ç”¨

```
å…ˆä½¿ç”¨ analyze_project äº†è§£é¡¹ç›®ï¼Œç„¶åä½¿ç”¨ find_unused_code æ¸…ç†ï¼Œæœ€åç”¨ check_best_practices æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶
```

### æ‰¹é‡åˆ†æ

```
åˆ†æ lib/screens/ ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ€§èƒ½
```

### è‡ªå®šä¹‰é‡ç‚¹

```
ä½¿ç”¨ suggest_optimizations ä¼˜åŒ– lib/services/poke_service.dartï¼Œfocus_area è®¾ä¸º 'readability'
```

## ğŸ’ª å¼€å§‹ä½¿ç”¨

ç°åœ¨å°±åœ¨ CodeBuddy ä¸­å°è¯•ï¼š

```
è¯·åˆ—å‡ºè¿™ä¸ªé¡¹ç›®çš„ MCP å·¥å…·ï¼Œå¹¶ç”¨ analyze_project åˆ†æä¸€ä¸‹é¡¹ç›®ç»“æ„
```

ç¥ä½ ç¼–ç æ„‰å¿«ï¼ğŸš€

---

**éœ€è¦å¸®åŠ©ï¼Ÿ**
- æŸ¥çœ‹æµ‹è¯•è¾“å‡ºï¼š`fvm dart run scripts/test_mcp.dart`
- é˜…è¯»å®Œæ•´æ–‡æ¡£ï¼š`.mcp/README.md`
- æŸ¥çœ‹ç¤ºä¾‹ï¼š`.mcp/examples.md`
